# Dockerfiles [![Build Status](https://gitlab.com/olbat/dockerfiles/badges/master/pipeline.svg)](https://gitlab.com/olbat/dockerfiles/-/pipelines)

A collection of Dockerfiles.

Fresh images are generated by the [CI](https://gitlab.com/olbat/dockerfiles/-/pipelines) on a daily basis.


## Images
* [Swiss Army Knife](sak/)
* [Bazel](bazel/)
* [GnuPG](gnupg/)
* [ImageMagick](imagemagick/)
* [CUPS print server](cupsd/)
* [Debian packaging tools](debian-pkg/)
* [Java development tools](java-devel/)
* [KCachegrind](kcachegrind/)
* [LibreOffice](libreoffice/)
* [Pandoc](pandoc/)
* [Node.js](nodejs/)
* [uncss](uncss/)
* [uglify](uglify/)
* [JSON Resume](jsonresume/)
* [HackMyResume](hackmyresume/)

__Note__: images are based on the [official Debian images](https://hub.docker.com/_/debian/) (slim versions)

## Dependencies
* Bash
* Docker >= 17.05 (for [moby#31352](https://github.com/moby/moby/pull/31352))


## Project's structure
* Each directory contains dockerfiles used to build a specific image
* [build.sh](build.sh): builds images and tag them using their directory and the extension of their `Dockerfile` (i.e. the `gnupg/Dockerfile.unstable` is used to build the `$DOCKER_USER/gnupg:unstable` image).
* [build.env](build.env): contains settings for the `build.sh` script
* [gen-dockerfiles.sh](gen-dockerfiles.sh): this script is used to generate dockefiles every time a `gen-*.env` file is found in a directory (the Dockerfile is generated using the `gen-$TYPE-dockerfile.sh` script and named `Dockerfile.$TYPE`)
* [gen-light-dockerfile.sh](gen-light-dockerfiles): this script is used to generate [multi-stage](https://docs.docker.com/engine/userguide/eng-image/multistage-build/) dockefiles used to build light images that only contains a few executables and static files (no system tools, no shell, ...).
* `*/gen-*.env`: contains settings for the Dockerfile generation scripts
